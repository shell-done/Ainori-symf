<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Trajets</title>

    <link rel="stylesheet" href="css/markdown.css">
    <link rel="stylesheet" href="css/highlight.css">
</head>

<body class="vscode-light">
    <h1 id="trajets">Trajets</h1>
    <h2 id="informations-g%c3%a9n%c3%a9rales">Informations générales</h2>
    <h4 id="description">Description</h4>
    <p>Un trajet représente un trajet de covoiturage entre deux villes. L'utilisateur créant un trajet est
        automatiquement définit comme étant le conducteur sur ce trajet (cf. requêtes Covoiturage)</p>
    <h4 id="attributs-complets-de-trajet">Attributs complets de Trajet</h4>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Nullable</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant unique</td>
            </tr>
            <tr>
                <td>dateDepart</td>
                <td>Object (Datetime)</td>
                <td>NON</td>
                <td>Date de départ</td>
            </tr>
            <tr>
                <td>heureDepart</td>
                <td>Object (Datetime)</td>
                <td>NON</td>
                <td>Heure de départ</td>
            </tr>
            <tr>
                <td>nbPlace</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Nombre de place passager</td>
            </tr>
            <tr>
                <td>duree</td>
                <td>Number (float)</td>
                <td>OUI</td>
                <td>Durée du trajet</td>
            </tr>
            <tr>
                <td>commentaire</td>
                <td>String</td>
                <td>OUI</td>
                <td>Commentaire</td>
            </tr>
            <tr>
                <td>nbKm</td>
                <td>Number (float)</td>
                <td>NON</td>
                <td>Distance du trajet</td>
            </tr>
            <tr>
                <td>typeTrajet</td>
                <td>Object (TypeTrajet)</td>
                <td>NON</td>
                <td>Type de trajet</td>
            </tr>
            <tr>
                <td>villeDepart</td>
                <td>Object (Ville)</td>
                <td>NON</td>
                <td>Ville de départ</td>
            </tr>
            <tr>
                <td>villeArrivee</td>
                <td>Object (Ville)</td>
                <td>NON</td>
                <td>Ville d'arrivée</td>
            </tr>
        </tbody>
    </table>
    <h4 id="attributs-r%c3%a9sum%c3%a9s-de-trajet">Attributs résumés de Trajet</h4>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Nullable</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant unique</td>
            </tr>
            <tr>
                <td>dateDepart</td>
                <td>Object (Datetime)</td>
                <td>NON</td>
                <td>Date de départ</td>
            </tr>
            <tr>
                <td>heureDepart</td>
                <td>Object (Datetime)</td>
                <td>NON</td>
                <td>Heure de départ</td>
            </tr>
            <tr>
                <td>nbPlace</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Nombre de place passager</td>
            </tr>
            <tr>
                <td>duree</td>
                <td>Number (float)</td>
                <td>OUI</td>
                <td>Durée du trajet</td>
            </tr>
            <tr>
                <td>commentaire</td>
                <td>String</td>
                <td>OUI</td>
                <td>Commentaire</td>
            </tr>
            <tr>
                <td>nbKm</td>
                <td>Number (float)</td>
                <td>NON</td>
                <td>Distance du trajet</td>
            </tr>
            <tr>
                <td>possede</td>
                <td>String (Possede)</td>
                <td>NON</td>
                <td>Véhicule possédé utilisé</td>
            </tr>
            <tr>
                <td>typeTrajet</td>
                <td>String (TypeTrajet)</td>
                <td>NON</td>
                <td>Type de trajet</td>
            </tr>
            <tr>
                <td>villeDepart</td>
                <td>String (Ville)</td>
                <td>NON</td>
                <td>Ville de départ</td>
            </tr>
            <tr>
                <td>villeArrivee</td>
                <td>String (Ville)</td>
                <td>NON</td>
                <td>Ville d'arrivée</td>
            </tr>
        </tbody>
    </table>
    <h4 id="r%c3%a9sum%c3%a9-des-requ%c3%aates">Résumé des requêtes</h4>
    <table>
        <thead>
            <tr>
                <th>Méthode</th>
                <th>Requête</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><span class="get">GET</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets/:id</td>
            </tr>
            <tr>
                <td><span class="get">GET</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets</td>
            </tr>
            <tr>
                <td><span class="get">GET</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets/utilisateur/:id</td>
            </tr>
            <tr>
                <td><span class="delete">DELETE</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets/:id</td>
            </tr>
            <tr>
                <td><span class="post">POST</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets/:id</td>
            </tr>
            <tr>
                <td><span class="post">POST</span></td>
                <td>foang.cir3-frm-smf-ang-xx/api/trajets</td>
            </tr>
        </tbody>
    </table>
    <br>
    <div class="page-break"></div>
    <h2 id="requ%c3%aates">Requêtes</h2>
    <h4 id="span-class%22get%22getspan-trajet"><span class="get">GET</span> Trajet</h4>
    <p>Retourne un trajet spécifique.</p>
    <p><code>GET foang.cir3-frm-smf-ang-xx/api/trajets/:id</code></p>
    <h5 id="param%c3%a8tres">Paramètres</h5>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Optionnel</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant du trajet à récupérer</td>
            </tr>
        </tbody>
    </table>
    <h5 id="r%c3%a9ponse">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200 OK</td>
                <td>La ressource a été récupérée et est retransmise dans le corps du message. Retourne 'Attributs
                    complets de Trajet'</td>
            </tr>
            <tr>
                <td>404 Not Found</td>
                <td>Le serveur n'a pas trouvé la ressource demandée. L'id fournit n'est probablement associé à aucun
                    trajet.</td>
            </tr>
        </tbody>
    </table>
    <p>'Attributs complets de Trajet' (exemple) :</p>
    <pre><code class="language-json"><div>{
    <span class="hljs-attr">"dateDepart"</span>: {
        <span class="hljs-attr">"date"</span>: <span class="hljs-string">"2020-06-02 00:00:00.000000"</span>,
        <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
        <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
    },
    <span class="hljs-attr">"heureDepart"</span>: {
        <span class="hljs-attr">"date"</span>: <span class="hljs-string">"1970-01-01 14:00:00.000000"</span>,
        <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
        <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
    },
    <span class="hljs-attr">"nbPlace"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"duree"</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">"commentaire"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"nbKm"</span>: <span class="hljs-number">920</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">"villeDepart"</span>: {
        <span class="hljs-attr">"codeInsee"</span>: <span class="hljs-string">"75100"</span>,
        <span class="hljs-attr">"ville"</span>: <span class="hljs-string">"Paris"</span>,
        <span class="hljs-attr">"codePostal"</span>: <span class="hljs-string">"75000"</span>,
        <span class="hljs-attr">"dep"</span>: <span class="hljs-string">"75"</span>,
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">3</span>
    },
    <span class="hljs-attr">"villeArrivee"</span>: {
        <span class="hljs-attr">"codeInsee"</span>: <span class="hljs-string">"06088"</span>,
        <span class="hljs-attr">"ville"</span>: <span class="hljs-string">"Nice"</span>,
        <span class="hljs-attr">"codePostal"</span>: <span class="hljs-string">"06000"</span>,
        <span class="hljs-attr">"dep"</span>: <span class="hljs-string">"06"</span>,
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">7</span>
    },
    <span class="hljs-attr">"typeTrajet"</span>: {
        <span class="hljs-attr">"typeTrajet"</span>: <span class="hljs-string">"Ponctuel"</span>,
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">2</span>
    }
}
</div></code></pre>
    <br>
    <div class="page-break"></div>
    <h4 id="span-class%22get%22getspan-trajets"><span class="get">GET</span> Trajets</h4>
    <p>Retourne une liste de trajets correspondant aux critères passés. Les trajets dans une fourchette de 4h
        (2h avant/2h après) autour de l'heure passée sont retournés.</p>
    <p><code>GET foang.cir3-frm-smf-ang-xx/api/trajets(?heureDepart, dateDepart, villeDepart, villeArrivee, typeTrajet)</code>
    </p>
    <h5 id="param%c3%a8tres-1">Paramètres</h5>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Optionnel</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>heureDepart</td>
                <td>ISO 8601 Time (HH:MM)</td>
                <td>OUI</td>
                <td>Heure du départ du trajet</td>
            </tr>
            <tr>
                <td>dateDepart</td>
                <td>ISO 8601 Date (YYYY-MM-DD)</td>
                <td>OUI</td>
                <td>Date de départ du trajet</td>
            </tr>
            <tr>
                <td>villeDepart</td>
                <td>Number (int)</td>
                <td>OUI</td>
                <td>Identifiant de la ville de départ</td>
            </tr>
            <tr>
                <td>villeArrivee</td>
                <td>Number (int)</td>
                <td>OUI</td>
                <td>Identifiant de la ville d'arrivée</td>
            </tr>
            <tr>
                <td>typeTrajet</td>
                <td>Number (int)</td>
                <td>OUI</td>
                <td>Identifiant du type de trajet</td>
            </tr>
        </tbody>
    </table>
    <h5 id="r%c3%a9ponse-1">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200 OK</td>
                <td>La ressource a été récupérée et est retransmise dans le corps du message. Retourne 'Attributs
                    résumés de Trajet'</td>
            </tr>
            <tr>
                <td>400 Bad Request</td>
                <td>Le serveur n'a pas compris la requête à cause d'une syntaxe invalide. Les paramètres fournis ne sont
                    probablement pas valides.</td>
            </tr>
        </tbody>
    </table>
    <p>'Attributs résumés de Trajet' (exemple) :</p>
    <pre><code class="language-json"><div>[
    {
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">7</span>,
        <span class="hljs-attr">"villeDepart"</span>: <span class="hljs-string">"Nîmes"</span>,
        <span class="hljs-attr">"villeArrivee"</span>: <span class="hljs-string">"Lyon"</span>,
        <span class="hljs-attr">"dateDepart"</span>: {
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"2020-02-10 00:00:00.000000"</span>,
            <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
        },
        <span class="hljs-attr">"heureDepart"</span>: {
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"1970-01-01 19:35:00.000000"</span>,
            <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
        },
        <span class="hljs-attr">"nbPlace"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"duree"</span>: <span class="hljs-number">2.43</span>,
        <span class="hljs-attr">"commentaire"</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">"nbKm"</span>: <span class="hljs-number">252</span>,
        <span class="hljs-attr">"typeTrajet"</span>: <span class="hljs-string">"Régulier"</span>,
        <span class="hljs-attr">"placeOccupee"</span>: <span class="hljs-string">"2"</span>,
        <span class="hljs-attr">"voiture"</span>: <span class="hljs-string">"Kenworth W900"</span>,
        <span class="hljs-attr">"utilisateur"</span>: <span class="hljs-string">"Jamy Gourmaud"</span>
    },
    {
        //...
    }
]
</div></code></pre>
    <br>
    <div class="page-break"></div>
    <h4 id="span-class%22get%22getspan-trajetsofutilisateur"><span class="get">GET</span> TrajetsOfUtilisateur</h4>
    <p>Retourne une liste de trajets corrrespondant à un utilisateur spécifique.</p>
    <p><code>GET foang.cir3-frm-smf-ang-xx/api/trajets/utilisateur/:id</code></p>
    <h5 id="param%c3%a8tres-2">Paramètres</h5>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Optionnel</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant de l'utilisateur</td>
            </tr>
        </tbody>
    </table>
    <h5 id="r%c3%a9ponse-2">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200 OK</td>
                <td>La ressource a été récupérée et est retransmise dans le corps du message. Retourne 'Attributs
                    résumés de Trajet'</td>
            </tr>
        </tbody>
    </table>
    <p>'Attributs résumés de Trajet' (exemple) :</p>
    <pre><code class="language-json"><div>[
    {
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">7</span>,
        <span class="hljs-attr">"villeDepart"</span>: <span class="hljs-string">"Nîmes"</span>,
        <span class="hljs-attr">"villeArrivee"</span>: <span class="hljs-string">"Lyon"</span>,
        <span class="hljs-attr">"dateDepart"</span>: {
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"2020-02-10 00:00:00.000000"</span>,
            <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
        },
        <span class="hljs-attr">"heureDepart"</span>: {
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"1970-01-01 19:35:00.000000"</span>,
            <span class="hljs-attr">"timezone_type"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Europe/Berlin"</span>
        },
        <span class="hljs-attr">"nbPlace"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"duree"</span>: <span class="hljs-number">2.43</span>,
        <span class="hljs-attr">"commentaire"</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">"nbKm"</span>: <span class="hljs-number">252</span>,
        <span class="hljs-attr">"typeTrajet"</span>: <span class="hljs-string">"Régulier"</span>,
        <span class="hljs-attr">"placeOccupee"</span>: <span class="hljs-string">"2"</span>,
        <span class="hljs-attr">"voiture"</span>: <span class="hljs-string">"Kenworth W900"</span>,
        <span class="hljs-attr">"utilisateur"</span>: <span class="hljs-string">"Jamy Gourmaud"</span>
    },
    {
        //...
    }
]
</div></code></pre>
    <br>
    <div class="page-break"></div>
    <h4 id="span-class%22delete%22deletespan-trajet"><span class="delete">DELETE</span> Trajet</h4>
    <p>Supprime un trajet. Impossible si ce trajet est utilisé dans un covoiturage</p>
    <p><code>DELETE foang.cir3-frm-smf-ang-xx/api/trajets/:id</code></p>
    <h5 id="param%c3%a8tres-3">Paramètres</h5>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Optionnel</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant du trajet à récupérer</td>
            </tr>
        </tbody>
    </table>
    <h5 id="r%c3%a9ponse-3">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200 OK</td>
                <td>La ressource a été récupérée et est retransmise dans le corps du message.</td>
            </tr>
            <tr>
                <td>404 Not Found</td>
                <td>Le serveur n'a pas trouvé la ressource demandée. L'id fournit n'est probablement associé à aucun
                    trajet</td>
            </tr>
            <tr>
                <td>409 Conflict</td>
                <td>La requête rentre en conflit avec l'état actuel du serveur. La suppression de l'élément n'est pas
                    autorisée.</td>
            </tr>
        </tbody>
    </table>
    <br>
    <div class="page-break"></div>
    <h4 id="span-class%22post%22postspan-trajet"><span class="post">POST</span> Trajet</h4>
    <p>Ajoute un trajet.</p>
    <p><code>POST foang.cir3-frm-smf-ang-xx/api/trajets</code></p>
    <h5 id="r%c3%a9ponse-4">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>201 Created</td>
                <td>La requête a réussi et un nouveau trajet a été créé en guise de résultat.</td>
            </tr>
            <tr>
                <td>400 Bad Request</td>
                <td>Le serveur n'a pas compris la requête à cause d'une syntaxe invalide. Les paramètres fournis ne sont
                    probablement pas valides.</td>
            </tr>
        </tbody>
    </table>
    <br>
    <div class="page-break"></div>
    <h4 id="span-class%22post%22postspan-trajet-1"><span class="post">POST</span> Trajet</h4>
    <p>Modifie un trajet.</p>
    <p><code>POST foang.cir3-frm-smf-ang-xx/api/trajets/:id</code></p>
    <h5 id="param%c3%a8tres-4">Paramètres</h5>
    <table>
        <thead>
            <tr>
                <th>Variable</th>
                <th>Type</th>
                <th>Optionnel</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>Number (int)</td>
                <td>NON</td>
                <td>Identifiant du trajet à récupérer</td>
            </tr>
        </tbody>
    </table>
    <h5 id="r%c3%a9ponse-5">Réponse</h5>
    <table>
        <thead>
            <tr>
                <th>Statut</th>
                <th>Signification</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200 OK</td>
                <td>La ressource a été récupérée et est retransmise dans le corps du message.</td>
            </tr>
            <tr>
                <td>400 Bad Request</td>
                <td>Le serveur n'a pas compris la requête à cause d'une syntaxe invalide. Les paramètres fournis ne sont
                    probablement pas valides.</td>
            </tr>
        </tbody>
    </table>

</body>

</html>